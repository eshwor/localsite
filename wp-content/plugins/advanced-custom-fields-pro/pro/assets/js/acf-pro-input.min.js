!function($){var e=acf.Field.extend({type:"repeater",wait:"",events:{'click a[data-event="add-row"]':"onClickAdd",'click a[data-event="remove-row"]':"onClickRemove",'click a[data-event="collapse-row"]':"onClickCollapse",showField:"onShow",unloadField:"onUnload"},$control:function(){return this.$(".acf-repeater:first")},$table:function(){return this.$("table:first")},$tbody:function(){return this.$("tbody:first")},$rows:function(){return this.$("tbody:first > tr")},$row:function(e){return this.$("tbody:first > tr:eq("+e+")")},$clone:function(){return this.$("tbody:first > tr.acf-clone")},$actions:function(){return this.$(".acf-actions:last")},$button:function(){return this.$(".acf-actions:last .button")},getValue:function(){return this.$rows().length-1},allowRemove:function(){var e=parseInt(this.get("min"));return!e||e<this.val()},allowAdd:function(){var e=parseInt(this.get("max"));return!e||e>this.val()},addSortable:function(e){1!=this.get("max")&&this.$tbody().sortable({items:"> tr",handle:"> td.order",forceHelperSize:!0,forcePlaceholderSize:!0,scroll:!0,stop:function(t,a){e.render()},update:function(t,a){e.$input().trigger("change")}})},addCollapsed:function(){var e=t.get(this.get("key"));if(!e)return!1;this.$rows().each(function(t){e.indexOf(t)>-1&&$(this).addClass("-collapsed")})},initialize:function(){this.addSortable(this),this.addCollapsed(),acf.disable(this.$clone(),this.cid),this.render()},render:function(){this.$rows().each(function(e){$(this).find("> .order > span").html(e+1)}),0==this.val()?this.$control().addClass("-empty"):this.$control().removeClass("-empty"),this.allowAdd()?this.$button().removeClass("disabled"):this.$button().addClass("disabled")},validateAdd:function(){if(this.allowAdd())return!0;var e=this.get("max"),t=acf.__("Maximum rows reached ({max} rows)");return t=t.replace("{max}",e),this.showNotice({text:t,type:"warning"}),!1},onClickAdd:function(e,t){if(!this.validateAdd())return!1;t.hasClass("acf-icon")?this.add({before:t.closest(".acf-row")}):this.add()},add:function(e){if(!this.allowAdd())return!1;var t=this.$clone();e=acf.parseArgs(e,{before:t});var a=acf.duplicate({target:t,append:function(t,a){a.removeClass("acf-clone"),e.before.before(a)}});return acf.enable_form(a,this.cid),this.render(),this.$input().trigger("change"),a},validateRemove:function(){if(this.allowRemove())return!0;var e=this.get("min"),t=acf.__("Minimum rows reached ({min} rows)");return t=t.replace("{min}",e),this.showNotice({text:t,type:"warning"}),!1},onClickRemove:function(e,t){var a=t.closest(".acf-row");a.addClass("-hover");var i=acf.newTooltip({confirmRemove:!0,target:t,context:this,confirm:function(){this.remove(a)},cancel:function(){a.removeClass("-hover")}})},remove:function(e){var t=this;acf.remove({target:e,endHeight:0,complete:function(){t.$input().trigger("change"),t.render(),acf.do_action("refresh",t.$el)}})},onClickCollapse:function(e,t){var a=t.closest(".acf-row"),i=a.hasClass("-collapsed");e.shiftKey&&(a=this.$rows()),i?(a.removeClass("-collapsed"),acf.do_action("show",a,"collapse")):(a.addClass("-collapsed"),acf.do_action("hide",a,"collapse")),acf.do_action("refresh",this.$el)},onShow:function(e,t){acf.findFields({is:":visible",parent:this.$el}).each(function(){acf.do_action("show_field",$(this))})},onUnload:function(){var e=[];this.$rows().each(function(t){$(this).hasClass("-collapsed")&&e.push(t)}),t.set(this.get("key"),e)}});acf.registerFieldType(e),acf.registerConditionForFieldType("hasValue","repeater"),acf.registerConditionForFieldType("hasNoValue","repeater"),acf.registerConditionForFieldType("lessThan","repeater"),acf.registerConditionForFieldType("greaterThan","repeater");var t=new acf.Model({data:{},reference:{},actions:{"unload 1":"reset"},reset:function(){this.data={},this.reference={}},getKey:function(e){var t=this.reference[e]||0;return this.reference[e]=++t,t>1&&(e+="-"+t),e},get:function(e){var t=this.getKey(e),a=acf.getPreference("this.collapsedRows");return!(!a||!a[t])&&a[t]},set:function(e,t){var a=this.getKey(e),i=acf.getPreference("this.collapsedRows");i||(i={}),$.isEmptyObject(t)?delete i[a]:i[a]=t,$.isEmptyObject(i)&&(i=null),acf.setPreference("this.collapsedRows",i)}})}(jQuery),function($){var e=acf.Field.extend({type:"flexible_content",wait:"",events:{'click [data-name="add-layout"]':"onClickAdd",'click [data-name="remove-layout"]':"onClickRemove",'click [data-name="collapse-layout"]':"onClickCollapse",showField:"onShow",unloadField:"onUnload"},$control:function(){return this.$(".acf-flexible-content:first")},$layoutsWrap:function(){return this.$(".acf-flexible-content:first > .values")},$layouts:function(){return this.$(".acf-flexible-content:first > .values > .layout")},$layout:function(e){return this.$(".acf-flexible-content:first > .values > .layout:eq("+e+")")},$clonesWrap:function(){return this.$(".acf-flexible-content:first > .clones")},$clones:function(){return this.$(".acf-flexible-content:first > .clones  > .layout")},$clone:function(e){return this.$('.acf-flexible-content:first > .clones  > .layout[data-layout="'+e+'"]')},$actions:function(){return this.$(".acf-actions:last")},$button:function(){return this.$(".acf-actions:last .button")},$popup:function(){return this.$(".tmpl-popup:last")},getPopupHTML:function(){var e=this.$popup().html(),t=$(e),a=this.$layouts(),i=function(e){return a.filter(function(){return $(this).data("layout")===e}).length};return t.find("[data-layout]").each(function(){var e=$(this),t=e.data("min")||0,a=e.data("max")||0,n=e.data("layout")||"",s=i(n);if(a&&s>=a)return void e.addClass("disabled");if(t&&s<t){var r=t-s,o=acf.__("{required} {label} {identifier} required (min {min})"),l=acf._n("layout","layouts",r);o=o.replace("{required}",r),o=o.replace("{label}",n),o=o.replace("{identifier}",l),o=o.replace("{min}",t),e.append('<span class="badge" title="'+o+'">'+r+"</span>")}}),e=t.outerHTML()},getValue:function(){return this.$layouts().length},allowRemove:function(){var e=parseInt(this.get("min"));return!e||e<this.val()},allowAdd:function(){var e=parseInt(this.get("max"));return!e||e>this.val()},isFull:function(){var e=parseInt(this.get("max"));return e&&this.val()>=e},addSortable:function(e){1!=this.get("max")&&this.$layoutsWrap().sortable({items:"> .layout",handle:"> .acf-fc-layout-handle",forceHelperSize:!0,forcePlaceholderSize:!0,scroll:!0,stop:function(t,a){e.render()},update:function(t,a){e.$input().trigger("change")}})},addCollapsed:function(){var e=a.get(this.get("key"));if(!e)return!1;this.$layouts().each(function(t){e.indexOf(t)>-1&&$(this).addClass("-collapsed")})},initialize:function(){this.addSortable(this),this.addCollapsed(),acf.disable(this.$clonesWrap(),this.cid),this.render()},render:function(){this.$layouts().each(function(e){$(this).find(".acf-fc-layout-order:first").html(e+1)}),0==this.val()?this.$control().addClass("-empty"):this.$control().removeClass("-empty"),this.isFull()?this.$button().addClass("disabled"):this.$button().removeClass("disabled")},onShow:function(e,t){acf.findFields({is:":visible",parent:this.$el}).each(function(){acf.do_action("show_field",$(this))})},validateAdd:function(){if(this.allowAdd())return!0;var e=this.get("max"),t=acf.__("This field has a limit of {max} {label} {identifier}"),a=acf._n("layout","layouts",e);return t=t.replace("{max}",e),t=t.replace("{label}",""),t=t.replace("{identifier}",a),this.showNotice({text:t,type:"warning"}),!1},onClickAdd:function(e,a){if(!this.validateAdd())return!1;var i=null;a.hasClass("acf-icon")&&(i=a.closest(".layout"),i.addClass("-hover")),new t({target:a,targetConfirm:!1,text:this.getPopupHTML(),context:this,confirm:function(e,t){t.hasClass("disabled")||this.add({layout:t.data("layout"),before:i})},cancel:function(){i&&i.removeClass("-hover")}}).on("click [data-layout]","onConfirm")},add:function(e){if(e=acf.parseArgs(e,{layout:"",before:!1}),e.append=this.$layoutsWrap(),!this.allowAdd())return!1;var t=acf.duplicate({target:this.$clone(e.layout),append:function(t,a){e.before?e.before.before(a):e.append.append(a)}});return acf.enable_form(t,this.cid),this.render(),this.$input().trigger("change"),t},validateRemove:function(){if(this.allowRemove())return!0;var e=this.get("min"),t=acf.__("This field requires at least {min} {label} {identifier}"),a=acf._n("layout","layouts",e);return t=t.replace("{min}",e),t=t.replace("{label}",""),t=t.replace("{identifier}",a),this.showNotice({text:t,type:"warning"}),!1},onClickRemove:function(e,t){var a=t.closest(".layout");a.addClass("-hover");var i=acf.newTooltip({confirmRemove:!0,target:t,context:this,confirm:function(){this.removeLayout(a)},cancel:function(){a.removeClass("-hover")}})},removeLayout:function(e){var t=this,a=1==this.getValue()?60:0;acf.remove({target:e,endHeight:a,complete:function(){t.$input().trigger("change"),t.render()}})},onClickCollapse:function(e,t){var a=t.closest(".layout");a.hasClass("-collapsed")?(a.removeClass("-collapsed"),acf.do_action("show",a,"collapse")):(a.addClass("-collapsed"),acf.do_action("hide",a,"collapse"),this.renderLayout(a))},renderLayout:function(e){var t=e.children("input"),a=t.attr("name").replace("[acf_fc_layout]",""),i={action:"acf/fields/flexible_content/layout_title",field_key:this.get("key"),i:e.index(),layout:e.data("layout"),value:acf.serialize(e,a)};$.ajax({url:acf.get("ajaxurl"),data:acf.prepareForAjax(i),dataType:"html",type:"post",success:function(t){t&&e.children(".acf-fc-layout-handle").html(t)}})},onUnload:function(){var e=[];this.$layouts().each(function(t){$(this).hasClass("-collapsed")&&e.push(t)}),a.set(this.get("key"),e)}});acf.registerFieldType(e);var t=acf.models.TooltipConfirm.extend({events:{"click [data-layout]":"onConfirm",'click [data-event="cancel"]':"onCancel"},render:function(){this.html(this.get("text")),this.$el.addClass("acf-fc-popup")}});acf.registerConditionForFieldType("hasValue","flexible_content"),acf.registerConditionForFieldType("hasNoValue","flexible_content"),acf.registerConditionForFieldType("lessThan","flexible_content"),acf.registerConditionForFieldType("greaterThan","flexible_content");var a=new acf.Model({data:{},reference:{},actions:{"unload 1":"reset"},reset:function(){this.data={},this.reference={}},getKey:function(e){var t=this.reference[e]||0;return this.reference[e]=++t,t>1&&(e+="-"+t),e},get:function(e){var t=this.getKey(e),a=acf.getPreference("this.collapsedLayouts");return!(!a||!a[t])&&a[t]},set:function(e,t){var a=this.getKey(e),i=acf.getPreference("this.collapsedLayouts");i||(i={}),$.isEmptyObject(t)?delete i[a]:i[a]=t,$.isEmptyObject(i)&&(i=null),acf.setPreference("this.collapsedLayouts",i)}})}(jQuery),function($){var e=acf.Field.extend({type:"gallery",events:{"click .acf-gallery-add":"onClickAdd","click .acf-gallery-edit":"onClickEdit","click .acf-gallery-remove":"onClickRemove","click .acf-gallery-attachment":"onClickSelect","click .acf-gallery-close":"onClickClose","change .acf-gallery-sort":"onChangeSort","click .acf-gallery-update":"onUpdate"},actions:{validation_begin:"onValidationBegin",validation_failure:"onValidationFailure"},onValidationBegin:function(){acf.disable(this.$sideData(),this.cid)},onValidationFailure:function(){acf.enable(this.$sideData(),this.cid)},$control:function(){return this.$(".acf-gallery")},$collection:function(){return this.$(".acf-gallery-attachments")},$attachments:function(){return this.$(".acf-gallery-attachment")},$attachment:function(e){return this.$('.acf-gallery-attachment[data-id="'+e+'"]')},$active:function(){return this.$(".acf-gallery-attachment.active")},$main:function(){return this.$(".acf-gallery-main")},$side:function(){return this.$(".acf-gallery-side")},$sideData:function(){return this.$(".acf-gallery-side-data")},isFull:function(){var e=parseInt(this.get("max")),t=this.$attachments().length;return e&&t>=e},getValue:function(){var e=[];return this.$attachments().each(function(){e.push($(this).data("id"))}),!!e.length&&e},initialize:function(){this.$collection().sortable({items:".acf-gallery-attachment",forceHelperSize:!0,forcePlaceholderSize:!0,scroll:!0,start:function(e,t){t.placeholder.html(t.item.html()),t.placeholder.removeAttr("style")}}),this.$control().resizable({handles:"s",minHeight:200,stop:function(e,t){acf.update_user_setting("gallery_height",t.size.height)}}),this.on("resize",this.proxy(this.onResize),$(window)),this.on("change .acf-gallery-side",this.proxy(this.onUpdate)),this.render()},render:function(){var e=this.$(".acf-gallery-sort"),t=this.$(".acf-gallery-add"),a=this.$attachments().length;this.isFull()?t.addClass("disabled"):t.removeClass("disabled"),a?e.removeClass("disabled"):e.addClass("disabled"),this.resize()},resize:function(){var e=this.$control().width(),t=150,a=Math.round(e/150);a=Math.min(a,8),this.$control().attr("data-columns",a)},onResize:function(){this.resize()},openSidebar:function(){this.$control().addClass("-open");var e=this.$control().width()/3;e=parseInt(e),e=Math.max(e,350),this.$(".acf-gallery-side-inner").css({width:e-1}),this.$side().animate({width:e-1},250),this.$main().animate({right:e},250)},closeSidebar:function(){this.$control().removeClass("-open"),this.$active().removeClass("active"),acf.disable(this.$side());var e=this.$(".acf-gallery-side-data");this.$main().animate({right:0},250),this.$side().animate({width:0},250,function(){e.html("")})},onClickAdd:function(e,t){if(this.isFull())return void this.showNotice({text:acf.__("Maximum selection reached"),type:"warning"});var a=acf.newMediaPopup({mode:"select",title:acf.__("Add Image to Gallery"),field:this.get("key"),multiple:"add",library:this.get("library"),allowedTypes:this.get("mime_types"),selected:this.val(),select:$.proxy(function(e,t){this.appendAttachment(e,t)},this)})},appendAttachment:function(e,t){if(e=this.validateAttachment(e),!this.isFull()&&!this.$attachment(e.id).length){var a=['<div class="acf-gallery-attachment" data-id="'+e.id+'">','<input type="hidden" value="'+e.id+'" name="'+this.getInputName()+'[]">','<div class="margin" title="">','<div class="thumbnail">','<img src="" alt="">',"</div>",'<div class="filename"></div>',"</div>",'<div class="actions">','<a href="#" class="acf-icon -cancel dark acf-gallery-remove" data-id="'+e.id+'"></a>',"</div>","</div>"].join(""),i=$(a);if(this.$collection().append(i),"prepend"===this.get("insert")){var n=this.$attachments().eq(t);n.length&&n.before(i)}this.renderAttachment(e),this.render(),this.$input().trigger("change")}},validateAttachment:function(e){if(e=acf.parseArgs(e,{id:"",url:"",alt:"",title:"",filename:"",type:"image"}),e.attributes){e=e.attributes;var t=acf.isget(e,"sizes","medium","url");null!==t&&(e.url=t)}return e},renderAttachment:function(e){e=this.validateAttachment(e);var t=this.$attachment(e.id);"image"==e.type?t.find(".filename").remove():(e.url=acf.isget(e,"thumb","src"),t.find(".filename").text(e.filename)),e.url||(e.url=acf.get("mimeTypeIcon"),t.addClass("-icon")),t.find("img").attr({src:e.url,alt:e.alt,title:e.title}),acf.val(t.find("input"),e.id)},editAttachment:function(e){var t=acf.newMediaPopup({mode:"edit",title:acf.__("Edit Image"),button:acf.__("Update Image"),attachment:e,field:this.get("key"),select:$.proxy(function(e,t){this.renderAttachment(e)},this)})},onClickEdit:function(e,t){var a=t.data("id");a&&this.editAttachment(a)},removeAttachment:function(e){this.closeSidebar(),this.$attachment(e).remove(),this.render(),this.$input().trigger("change")},onClickRemove:function(e,t){e.preventDefault(),e.stopPropagation();var a=t.data("id");a&&this.removeAttachment(a)},selectAttachment:function(e){var t=this.$attachment(e);if(!t.hasClass("active")){var a=this.proxy(function(){this.$side().find(":focus").trigger("blur"),this.$active().removeClass("active"),t.addClass("active"),this.openSidebar(),i()}),i=this.proxy(function(){var t={action:"acf/fields/gallery/get_attachment",field_key:this.get("key"),id:e};this.has("xhr")&&this.get("xhr").abort(),acf.showLoading(this.$sideData());var a=$.ajax({url:acf.get("ajaxurl"),data:acf.prepareForAjax(t),type:"post",dataType:"html",cache:!1,success:n});this.set("xhr",a)}),n=this.proxy(function(e){if(e){var t=this.$sideData();t.html(e),t.find(".compat-field-acf-form-data").remove(),t.find("> table.form-table > tbody").append(t.find("> .compat-attachment-fields > tbody > tr")),acf.do_action("append",t)}});a()}},onClickSelect:function(e,t){var a=t.data("id");a&&this.selectAttachment(a)},onClickClose:function(e,t){this.closeSidebar()},onChangeSort:function(e,t){var a=t.val();if(a){var i=[];this.$attachments().each(function(){i.push($(this).data("id"))});var n=this.proxy(function(){var e={action:"acf/fields/gallery/get_sort_order",field_key:this.get("key"),ids:i,sort:a},t=$.ajax({url:acf.get("ajaxurl"),dataType:"json",type:"post",cache:!1,data:acf.prepareForAjax(e),success:s})}),s=this.proxy(function(e){acf.isAjaxSuccess(e)&&(e.data.reverse(),e.data.map(function(e){this.$collection().prepend(this.$attachment(e))},this))});n()}},onUpdate:function(e,t){var a=this.$(".acf-gallery-update");if(!a.hasClass("disabled")){var i=acf.serialize(this.$sideData());a.addClass("disabled"),a.before('<i class="acf-loading"></i> '),i.action="acf/fields/gallery/update_attachment",$.ajax({url:acf.get("ajaxurl"),data:acf.prepareForAjax(i),type:"post",dataType:"json",complete:function(){a.removeClass("disabled"),a.prev(".acf-loading").remove()}})}}});acf.registerFieldType(e),acf.registerConditionForFieldType("hasValue","gallery"),acf.registerConditionForFieldType("hasNoValue","gallery"),acf.registerConditionForFieldType("lessThan","gallery"),acf.registerConditionForFieldType("greaterThan","gallery")}(jQuery);